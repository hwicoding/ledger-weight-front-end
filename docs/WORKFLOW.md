# 🔄 작업 워크플로우 규칙

## Git 커밋 및 푸시 규칙

### ⚠️ 중요: 커밋/푸시는 제안만 하고 승인 후 실행

**규칙:**
- ✅ **커밋/푸시 제안**: 변경사항이 있을 때 커밋 메시지를 제안만 함
- ✅ **사용자 승인 필요**: 사용자가 명시적으로 승인/허락할 때만 커밋 및 푸시 실행
- ❌ **자동 실행 금지**: 사용자 승인 없이 자동으로 커밋/푸시하지 않음

### 🚀 중요: "승인한다" 응답 시 자동 푸시

**규칙 (2025-12-12 업데이트):**
- ✅ **"승인한다" 응답**: 사용자가 "승인한다"고 명시적으로 응답하면
  - 1단계: 커밋 실행
  - 2단계: **자동으로 푸시까지 진행** (추가 승인 불필요)
- ❌ **푸시 재확인 불필요**: "승인한다" 응답 후 푸시를 다시 물어보지 않음
- ⚠️ **주의**: "승인한다"는 커밋과 푸시를 모두 승인하는 것으로 간주

### 커밋 메시지 형식

**약속한 형식:**
```
YYMMDD > front-end > react-native > [변경 내용 설명]
```

**예시:**
```
251212 > front-end > react-native > docs 구조 재정리 및 디버깅 시스템 구축: docs 폴더 카테고리별 정리 (getting-started, debugging, troubleshooting, tools), ErrorBoundary 및 로깅 시스템 추가, App.tsx 및 LobbyViewModel 최적화, 개발 도구 및 설정 파일 개선
```

### ⚠️ 한글 깨짐 방지

**중요**: PowerShell에서 한글 커밋 메시지를 사용할 때 깨질 수 있습니다.

**해결 방법:**
1. **커밋 메시지 파일 사용** (권장)
   ```bash
   echo "한글 메시지" > commit_msg.txt
   git commit -F commit_msg.txt
   rm commit_msg.txt
   ```

2. **Git Bash 사용** (권장)
   ```bash
   git commit -m "한글 메시지"
   ```

3. **커밋 전 검증**
   ```bash
   bash scripts/commit-msg-validator.sh
   ```

**자세한 내용**: [Git 커밋 메시지 한글 깨짐 방지 규칙](./GIT_COMMIT_RULES.md)

### 워크플로우 예시

#### 표준 워크플로우 (단계별 승인)
1. **변경사항 발생** → 파일 수정 완료
2. **스테이징 제안** → "변경사항을 스테이징할까요?"
3. **사용자 승인** → "네, 스테이징해주세요"
4. **스테이징 실행** → `git add .`
5. **커밋 메시지 제안** → "다음 커밋 메시지로 커밋할까요? [메시지]"
6. **사용자 승인** → "네, 커밋해주세요"
7. **커밋 실행** → `git commit -m "..."`
8. **푸시 제안** → "푸시할까요?"
9. **사용자 승인** → "네, 푸시해주세요"
10. **푸시 실행** → `git push`

#### 간소화 워크플로우 ("승인한다" 사용)
1. **변경사항 발생** → 파일 수정 완료
2. **스테이징 및 커밋 메시지 제안** → "커밋 메시지 제안: [메시지]"
3. **사용자 승인** → **"승인한다"**
4. **자동 실행 (커밋 전 확인 필수)**:
   - 스테이징 실행 → `git add .`
   - **커밋 메시지 파일 생성 (UTF-8)** → `commit_msg.txt`
   - **커밋 메시지 미리보기 확인** → `git commit -F commit_msg.txt --dry-run`
   - **한글 깨짐 확인** → 깨진 문자가 없어야 함
   - 커밋 실행 → `git commit -F commit_msg.txt`
   - **커밋 후 확인** → `git log --oneline -1` (한글 깨짐 확인)
   - **푸시 실행** → `git push` (추가 승인 없이 자동 진행)
   - 임시 파일 삭제 → `rm commit_msg.txt`
5. **완료 알림** → "커밋 및 푸시 완료"

---

## 📝 기록일

- **생성일**: 2025-12-12
- **규칙 적용일**: 2025-12-12
- **"승인한다" 자동 푸시 규칙 추가**: 2025-12-12

