# 📋 다음 작업 요약

## ✅ 완료된 작업 (최근)

1. **타겟팅 시스템 UI 구현** ✅
   - GameViewModel 타겟 선택 핸들러
   - GameBoard 타겟팅 기능
   - 영향력 범위 검증

2. **로비 화면 플레이어 목록 표시** ✅
   - Redux Store에서 플레이어 목록 가져오기
   - PlayerCard 컴포넌트 재사용
   - 플레이어 정보 표시

3. **게임 이벤트 로그 UI** ✅
   - EventLog 컴포넌트 생성
   - 이벤트 타입별 색상 구분
   - 스크롤 가능한 로그 목록

---

## 🔴 높은 우선순위 (즉시 필요)

### 1. 백엔드 연동 테스트 ⭐⭐⭐⭐⭐

**가장 중요한 작업!** 모든 기능이 실제로 작동하는지 확인해야 합니다.

#### 테스트 항목:
- [ ] **WebSocket 연결 테스트**
  - 로컬 백엔드 서버와 연결 확인
  - 연결 실패 시 에러 처리 확인
  
- [ ] **로비 참가 테스트**
  - 로비 참가 요청 전송
  - 플레이어 목록 업데이트 확인
  - 연결 상태 표시 확인

- [ ] **게임 시작 테스트**
  - 게임 시작 요청 전송
  - GameScreen으로 네비게이션 확인

- [ ] **GAME_STATE_UPDATE 수신 테스트**
  - 서버에서 게임 상태 업데이트 수신
  - Redux Store 업데이트 확인
  - UI 자동 업데이트 확인

- [ ] **PLAYER_ACTION 전송 테스트**
  - 카드 사용 액션 전송
  - 턴 종료 액션 전송
  - 응답 액션 전송

- [ ] **타겟팅 시스템 테스트**
  - 타겟 선택 및 전송
  - 영향력 범위 검증 확인

- [ ] **응답 인터페이스 테스트**
  - 응답 모달 표시 확인
  - 응답 액션 전송 확인

---

## 🟡 중간 우선순위 (곧 필요)

### 2. 로딩 상태 표시

사용자에게 진행 중인 작업을 명확히 알려주는 것이 중요합니다.

- [ ] **로비 참가 중 로딩 인디케이터**
  - `isConnecting` 상태 활용
  - ActivityIndicator 표시

- [ ] **게임 상태 업데이트 중 로딩 표시**
  - 게임 상태 수신 중 표시
  - 업데이트 완료 시 숨김

- [ ] **카드 사용 중 로딩 상태**
  - 카드 사용 요청 전송 중
  - 버튼 비활성화 및 로딩 표시

### 3. 에러 처리 개선

안정적인 앱을 위해 에러 처리가 중요합니다.

- [ ] **WebSocket 연결 실패 시 재연결 로직 개선**
  - 현재 재연결 로직 확인
  - 사용자에게 재연결 시도 알림
  - 재연결 실패 시 명확한 메시지

- [ ] **사용자 친화적인 에러 메시지 표시**
  - 기술적인 에러 메시지를 사용자 친화적으로 변환
  - 에러 발생 시 해결 방법 제시

- [ ] **에러 복구 메커니즘**
  - 자동 복구 시도
  - 수동 재시도 버튼 제공

### 4. 에러 시나리오 테스트

- [ ] **네트워크 연결 끊김 처리**
  - 연결 끊김 감지
  - 재연결 시도
  - 사용자 알림

- [ ] **서버 에러 응답 처리**
  - 에러 메시지 수신
  - 에러 타입별 처리
  - 사용자 알림

- [ ] **잘못된 액션 전송 시 처리**
  - 유효성 검증
  - 에러 응답 처리
  - 사용자 피드백

---

## 🟢 낮은 우선순위 (나중에)

### 5. 원형 레이아웃 구현

- [ ] **원형 레이아웃 구현**
  - GameBoard에 원형 레이아웃 추가
  - 플레이어를 원형으로 배치

- [ ] **레이아웃 전환 옵션 추가**
  - 테이블/원형 레이아웃 전환 버튼
  - 사용자 설정 저장

### 6. 게임 상태 동기화 개선

- [ ] **게임 상태 불일치 감지 및 처리**
  - 서버와 클라이언트 상태 비교
  - 불일치 감지 시 알림

- [ ] **상태 복구 메커니즘**
  - 서버에서 최신 상태 요청
  - 상태 동기화

### 7. 문서화

- [ ] **WebSocket 프로토콜 문서 업데이트**
- [ ] **UseCase 사용 가이드**
- [ ] **ViewModel 사용 가이드**
- [ ] **새 기능 추가 가이드**
- [ ] **컴포넌트 개발 가이드**
- [ ] **테스트 작성 가이드**

---

## 📊 현재 진행 상황

### Phase 5: 게임 로직 연동
- **완료율**: 약 85%
- **완료된 항목**:
  - ✅ 기본 구조
  - ✅ UI 연동
  - ✅ 타겟팅 시스템
  - ✅ 로비 플레이어 목록
  - ✅ 이벤트 로그 UI
- **남은 항목**:
  - ❌ 백엔드 연동 테스트 (가장 중요!)

---

## 🎯 다음 작업 추천

**가장 우선적으로 해야 할 작업:**

1. **백엔드 연동 테스트** 🔴
   - 실제 백엔드 서버가 준비되어 있다면 즉시 테스트 시작
   - 백엔드 서버가 없다면 Mock 서버 구축 고려

2. **로딩 상태 표시** 🟡
   - 사용자 경험 개선에 중요
   - 구현이 비교적 간단함

3. **에러 처리 개선** 🟡
   - 안정성 향상에 중요
   - 백엔드 연동 테스트 중 발견된 문제 해결

---

**마지막 업데이트**: 2025-12-12

