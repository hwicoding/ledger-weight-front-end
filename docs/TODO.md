# 📋 작업 목록 (TODO)

## 🎯 Phase 5: 게임 로직 연동 (진행 중)

### 1. GAME_STATE_UPDATE 수신 및 UI 업데이트 ✅ (기본 구조 완료)
- [x] WebSocket 메시지 수신 구조 구현
- [x] GameService.onGameStateUpdate 콜백 등록
- [x] Redux Store 업데이트 로직
- [ ] **실제 백엔드와 연동 테스트 필요**
- [ ] **게임 이벤트 로그 UI 구현** (events 배열을 화면에 표시)

### 2. PLAYER_ACTION 전송 인터페이스 ✅ (기본 구조 완료)
- [x] UseCardUseCase, EndTurnUseCase, RespondAttackUseCase 구현
- [x] GameViewModel에서 액션 전송 로직
- [x] GameScreen에서 버튼 연동
- [x] **타겟팅 시스템 UI 구현** ✅
- [ ] **실제 백엔드와 연동 테스트 필요**

### 3. 타겟팅 시스템 ✅ (완료)
- [x] playerSlice에 타겟팅 상태 관리 (selectedTarget, isTargeting)
- [x] UseCardUseCase에 타겟 검증 로직
- [x] **타겟팅 UI 컴포넌트 구현** (플레이어 선택 인터페이스)
- [x] **영향력 범위 내 플레이어만 선택 가능하도록 제한**
- [x] **타겟팅 모드 활성화/비활성화 로직**
- [x] **GameScreen에 타겟팅 UI 통합**

### 4. 응답 인터페이스 ✅ (기본 구조 완료)
- [x] 응답 모달 UI 구현
- [x] respondAttack 핸들러 구현
- [ ] **실제 백엔드와 연동 테스트 필요**

---

## 🎨 UI 개선 작업

### 5. 로비 화면 플레이어 목록 표시
- [x] LobbyScreen 기본 구조
- [x] WebSocket 연결 상태 표시
- [ ] **실제 플레이어 목록 UI 구현** (현재 더미 텍스트만 있음)
- [ ] **플레이어 목록을 Redux Store에서 가져와 표시**
- [ ] **플레이어 역할, 재력, 영향력 표시**

### 6. 게임 이벤트 로그 UI
- [x] Redux Store에 events 배열 저장
- [ ] **이벤트 로그 컴포넌트 구현**
- [ ] **GameScreen에 이벤트 로그 섹션 추가**
- [ ] **스크롤 가능한 로그 목록**
- [ ] **이벤트 타입별 색상 구분** (action, notification, error)

### 7. 게임 보드 원형 레이아웃
- [x] GameBoard 테이블 레이아웃 구현
- [ ] **원형 레이아웃 구현** (현재 "추후 구현" 주석만 있음)
- [ ] **레이아웃 전환 옵션 추가**

---

## 🔧 기능 개선 작업

### 8. 에러 처리 개선
- [x] ErrorBoundary 컴포넌트 추가
- [x] 기본 에러 핸들링
- [ ] **WebSocket 연결 실패 시 재연결 로직 개선**
- [ ] **사용자 친화적인 에러 메시지 표시**
- [ ] **에러 복구 메커니즘**

### 9. 로딩 상태 표시
- [ ] **로비 참가 중 로딩 인디케이터**
- [ ] **게임 상태 업데이트 중 로딩 표시**
- [ ] **카드 사용 중 로딩 상태**

### 10. 게임 상태 동기화
- [x] GAME_STATE_UPDATE 수신 구조
- [ ] **게임 상태 불일치 감지 및 처리**
- [ ] **상태 복구 메커니즘**

---

## 🧪 테스트 및 검증

### 11. 백엔드 연동 테스트
- [ ] **WebSocket 연결 테스트**
- [ ] **로비 참가 테스트**
- [ ] **게임 시작 테스트**
- [ ] **GAME_STATE_UPDATE 수신 테스트**
- [ ] **PLAYER_ACTION 전송 테스트**
- [ ] **타겟팅 시스템 테스트**
- [ ] **응답 인터페이스 테스트**

### 12. 에러 시나리오 테스트
- [ ] **네트워크 연결 끊김 처리**
- [ ] **서버 에러 응답 처리**
- [ ] **잘못된 액션 전송 시 처리**

---

## 📝 문서화

### 13. API 문서화
- [ ] **WebSocket 프로토콜 문서 업데이트**
- [ ] **UseCase 사용 가이드**
- [ ] **ViewModel 사용 가이드**

### 14. 개발 가이드
- [ ] **새 기능 추가 가이드**
- [ ] **컴포넌트 개발 가이드**
- [ ] **테스트 작성 가이드**

---

## 🚀 우선순위

### 높음 (즉시 필요)
1. **타겟팅 시스템 UI 구현** - 게임 플레이에 필수
2. **로비 화면 플레이어 목록 표시** - 기본 기능
3. **백엔드 연동 테스트** - 실제 동작 확인

### 중간 (곧 필요)
4. **게임 이벤트 로그 UI** - 사용자 경험 개선
5. **에러 처리 개선** - 안정성 향상
6. **로딩 상태 표시** - 사용자 피드백

### 낮음 (나중에)
7. **원형 레이아웃 구현** - UI 개선
8. **게임 상태 동기화 개선** - 고급 기능
9. **문서화** - 유지보수성

---

## 📊 진행 상황

- **Phase 1-4**: ✅ 완료
- **Phase 5**: 🚧 진행 중 (약 60% 완료)
  - 기본 구조: ✅ 완료
  - UI 연동: ⚠️ 부분 완료
  - 타겟팅 시스템: ❌ 미완성
  - 테스트: ❌ 미완성

---

**마지막 업데이트**: 2025-12-12

